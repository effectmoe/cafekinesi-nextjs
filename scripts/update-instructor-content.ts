import { createClient } from '@sanity/client';
import { config } from 'dotenv';

// .env.localãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿
config({ path: '.env.local' });

const client = createClient({
  projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID!,
  dataset: process.env.NEXT_PUBLIC_SANITY_DATASET!,
  token: process.env.SANITY_API_TOKEN!,
  useCdn: false,
  apiVersion: '2024-01-06'
});

// ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã®è©³ç´°æƒ…å ±ã‚’æ›´æ–°
const instructorUpdates = [
  {
    name: 'ãƒ•ã‚§ã‚¢ãƒªãƒ¼ã‚ºãƒãƒƒãƒˆ AKO',
    updates: {
      bio: 'ã‚«ãƒ•ã‚§ã‚­ãƒã‚·ã®èªå®šã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¨ã—ã¦ã€åŒ—æµ·é“ã‚’æ‹ ç‚¹ã«æ´»å‹•ã—ã¦ã„ã¾ã™ã€‚å„ªã—ãä¸å¯§ãªæŒ‡å°ã§ã€åˆå¿ƒè€…ã‹ã‚‰ä¸Šç´šè€…ã¾ã§å¹…åºƒãã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚',
      specialties: ['ã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼åŸºç¤', 'å€‹äººã‚»ãƒƒã‚·ãƒ§ãƒ³', 'ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¯ãƒ¼ã‚¯'],
      profileDetails: '10å¹´ä»¥ä¸Šã®æŒ‡å°çµŒé¨“ã‚’æŒã¡ã€å»¶ã¹500äººä»¥ä¸Šã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãã¾ã—ãŸã€‚å¿ƒã¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æ•´ãˆã‚‹ã“ã¨ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã¾ã™ã€‚'
    }
  },
  {
    name: 'ç…Œã‚ãã®ç®±åº­',
    updates: {
      bio: 'ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ¯ãƒ¼ã‚¯ã¨ã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼ã‚’çµ„ã¿åˆã‚ã›ãŸç‹¬è‡ªã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®æ½œåœ¨èƒ½åŠ›ã‚’å¼•ãå‡ºã—ã¾ã™ã€‚',
      specialties: ['ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ’ãƒ¼ãƒªãƒ³ã‚°', 'ãƒãƒ£ã‚¯ãƒ©ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°', 'ç‘æƒ³æŒ‡å°'],
      profileDetails: 'åŒ—æµ·é“ã®è‡ªç„¶è±Šã‹ãªç’°å¢ƒã§ã€å¿ƒèº«ã®èª¿å’Œã‚’å¤§åˆ‡ã«ã—ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚‚å¯¾å¿œå¯èƒ½ã§ã™ã€‚'
    }
  },
  {
    name: 'ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ  LuLu Harmoniaï¼ˆãƒ«ãƒ«ãƒ»ãƒãƒ«ãƒ¢ãƒ‹ãƒ¼ã‚¢ï¼‰',
    updates: {
      bio: 'éŸ³ã¨æŒ¯å‹•ã‚’å–ã‚Šå…¥ã‚ŒãŸç‹¬è‡ªã®ã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æä¾›ã€‚å¿ƒåœ°ã‚ˆã„ç©ºé–“ã§æ·±ã„ãƒªãƒ©ã‚¯ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½“é¨“ã§ãã¾ã™ã€‚',
      specialties: ['ã‚µã‚¦ãƒ³ãƒ‰ãƒ’ãƒ¼ãƒªãƒ³ã‚°', 'ãƒœãƒ‡ã‚£ãƒ¯ãƒ¼ã‚¯', 'ã‚¹ãƒˆãƒ¬ã‚¹è§£æ”¾'],
      profileDetails: 'å®Œå…¨äºˆç´„åˆ¶ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ­ãƒ³ã§ã€ä¸€äººã²ã¨ã‚Šã«åˆã‚ã›ãŸã‚ªãƒ¼ãƒ€ãƒ¼ãƒ¡ã‚¤ãƒ‰ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚'
    }
  },
  {
    name: 'Wisteria GuÃ©risonã€Šã‚¦ã‚£ã‚¹ãƒ†ãƒªã‚¢ãƒ»ã‚°ãƒªã‚½ãƒ³ã€‹',
    updates: {
      bio: 'ãƒ•ãƒ©ãƒ³ã‚¹å¼ã®ã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼ã¨æ—¥æœ¬ã®ä¼çµ±çš„ãªæ‰‹æŠ€ã‚’èåˆã•ã›ãŸã€ç‹¬è‡ªã®ãƒ’ãƒ¼ãƒªãƒ³ã‚°ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç¢ºç«‹ã€‚',
      specialties: ['ãƒ•ãƒ¬ãƒ³ãƒã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼', 'ãƒ¬ã‚¤ã‚­ãƒ’ãƒ¼ãƒªãƒ³ã‚°', 'æ„Ÿæƒ…è§£æ”¾ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯'],
      profileDetails: 'å›½éš›çš„ãªè³‡æ ¼ã‚’è¤‡æ•°ä¿æœ‰ã—ã€æ—¥æœ¬ã¨ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ã§ã®è±Šå¯Œãªè‡¨åºŠçµŒé¨“ã‚’æ´»ã‹ã—ãŸè³ªã®é«˜ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚',
      website: 'https://wisteria-guerison.com'
    }
  },
  {
    name: 'HSK Kinesiology',
    updates: {
      bio: 'ã‚¢ãƒ¡ãƒªã‚«æœ€å…ˆç«¯ã®ã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼æŠ€è¡“ã¨ã‚«ã‚¤ãƒ­ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ãƒƒã‚¯ã‚’çµ„ã¿åˆã‚ã›ãŸã€çµ±åˆçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚',
      specialties: ['ã‚¹ãƒãƒ¼ãƒ„ã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼', 'å§¿å‹¢çŸ¯æ­£', 'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š'],
      profileDetails: 'ãƒ—ãƒ­ã‚¢ã‚¹ãƒªãƒ¼ãƒˆã‹ã‚‰ä¸€èˆ¬ã®æ–¹ã¾ã§ã€å¹…åºƒã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®èº«ä½“æ©Ÿèƒ½å‘ä¸Šã‚’ã‚µãƒãƒ¼ãƒˆã€‚ç§‘å­¦çš„æ ¹æ‹ ã«åŸºã¥ã„ãŸæ–½è¡“ã‚’è¡Œã„ã¾ã™ã€‚',
      email: 'info@hsk-kinesiology.com',
      website: 'https://hsk-kinesiology.com'
    }
  },
  {
    name: 'Harmony Light',
    updates: {
      bio: 'ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ã®ä¼çµ±çš„ãªãƒ’ãƒ¼ãƒªãƒ³ã‚°æŠ€è¡“ã¨ãƒ¢ãƒ€ãƒ³ãªã‚­ãƒã‚·ã‚ªãƒ­ã‚¸ãƒ¼ã‚’èåˆã•ã›ãŸã€ãƒ›ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æä¾›ã€‚',
      specialties: ['ãƒ›ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ãƒ’ãƒ¼ãƒªãƒ³ã‚°', 'ã‚¢ãƒ­ãƒã‚»ãƒ©ãƒ”ãƒ¼', 'ã‚¯ãƒªã‚¹ã‚¿ãƒ«ãƒ’ãƒ¼ãƒªãƒ³ã‚°'],
      profileDetails: 'ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘å„åœ°ã§å­¦ã‚“ã æ§˜ã€…ãªãƒ’ãƒ¼ãƒªãƒ³ã‚°æŠ€è¡“ã‚’çµ±åˆã—ã€å¿ƒèº«é­‚ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æ•´ãˆã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚',
      website: 'https://harmony-light.eu'
    }
  }
];

async function updateInstructorContent() {
  console.log('ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±æ›´æ–°é–‹å§‹...\n');

  try {
    // æ—¢å­˜ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å–å¾—
    const instructors = await client.fetch('*[_type == "instructor"]');
    console.log(`ğŸ“„ ${instructors.length}ä»¶ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å–å¾—\n`);

    for (const instructor of instructors) {
      // æ›´æ–°ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œç´¢
      const updateData = instructorUpdates.find(u => u.name === instructor.name);

      if (updateData) {
        console.log(`ğŸ“ ${instructor.name} ã‚’æ›´æ–°ä¸­...`);

        try {
          await client
            .patch(instructor._id)
            .set(updateData.updates)
            .commit();

          console.log(`âœ… ${instructor.name} æ›´æ–°å®Œäº†`);
        } catch (error: any) {
          console.error(`âŒ ${instructor.name} æ›´æ–°ã‚¨ãƒ©ãƒ¼:`, error.message);
        }
      } else {
        console.log(`âš ï¸ ${instructor.name} ã®æ›´æ–°ãƒ‡ãƒ¼ã‚¿ãªã—`);
      }
    }

    console.log('\nâœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±æ›´æ–°å®Œäº†ï¼');

    // æ›´æ–°çµæœã‚’ç¢ºèª
    console.log('\nğŸ“Š æ›´æ–°å¾Œã®ç¢ºèª:');
    const updatedInstructors = await client.fetch('*[_type == "instructor"]');

    for (const instructor of updatedInstructors) {
      console.log(`\n${instructor.name}:`);
      console.log(`  bio: ${instructor.bio ? 'âœ“' : 'âœ—'}`);
      console.log(`  specialties: ${instructor.specialties ? 'âœ“' : 'âœ—'}`);
      console.log(`  profileDetails: ${instructor.profileDetails ? 'âœ“' : 'âœ—'}`);
    }

  } catch (error) {
    console.error('âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ:', error);
    process.exit(1);
  }
}

// å®Ÿè¡Œ
updateInstructorContent();